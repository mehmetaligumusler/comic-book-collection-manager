<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Main.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">comic_manager_app</a> &gt; <a href="index.source.html" class="el_package">com.mehmetali.comic_manager</a> &gt; <span class="el_source">Main.java</span></div><h1>Main.java</h1><pre class="source lang-java linenums">/**
 * The com.mehmetali.comic_manager package contains classes related to the Comic Manager application.
 */
package com.mehmetali.comic_manager;

//590

import java.util.Scanner;
import java.io.IOException;
import java.io.PrintStream;


/**
 * Main class for managing the comic manager application.
 * This class provides methods for user interaction and menu navigation.
 *
 * The Main class serves as the entry point for the application and orchestrates user interaction.
 *
 * @author mehmetali
 * @version 1.0
 */
<span class="nc" id="L22">public class Main {</span>

  /**
   * The username of the logged-in user.
   */
  public static String LoginName;

  /**
   * The wallet balance of the logged-in user.
   */
  public static int LoginWallet;


<span class="fc" id="L35">  private static final Scanner scanner = new Scanner(System.in); /**&lt; The scanner object used for user input. */</span>


<span class="fc" id="L38">  private static final UserManager userManager = new UserManager(); /**&lt; The user manager instance for managing user-related operations. */</span>


<span class="fc" id="L41">  private static final BookManager comicmanager = new BookManager(); /**&lt; The comic manager instance for managing comic book-related operations. */</span>


<span class="fc" id="L44">  private static final WishManager wishmanager = new WishManager(); /**&lt; The wish manager instance for managing wish-related operations. */</span>


<span class="fc" id="L47">  private static final TradeManager trademanager = new TradeManager(); /**&lt; The trade manager instance for managing trade-related operations. */</span>


<span class="fc" id="L50">  private static final EventManager eventmanager = new EventManager(); /**&lt; The event manager instance for managing event-related operations. */</span>


<span class="fc" id="L53">  public static boolean control = false; /**&lt; Boolean variable indicating control status. */</span>





  /**
     * Prints the menu with the specified title and options.
     *
     * @param title   The title of the menu.
     * @param options An array of strings representing the menu options.
     */
  private static void printMenu(String title, String[] options) {
<span class="fc" id="L66">    System.out.println(&quot;|===============================================================================|&quot;);</span>
<span class="fc" id="L67">    System.out.println(&quot;|&quot; + centerText(title, 79) + &quot;|&quot;);</span>
<span class="fc" id="L68">    System.out.println(&quot;|===============================================================================|&quot;);</span>
<span class="fc" id="L69">    int wallet = userManager.getUserWallet(LoginName);</span>

<span class="fc bfc" id="L71" title="All 2 branches covered.">    if(control == false) {</span>
<span class="fc" id="L72">      System.out.println(&quot;|&quot; + rightPad(&quot;User: &quot; + LoginName, 79) + &quot;|&quot;);</span>
<span class="fc" id="L73">      System.out.println(&quot;|&quot; + rightPad(&quot;Money: &quot; + wallet, 79) + &quot;|&quot;);</span>
    }

<span class="fc bfc" id="L76" title="All 2 branches covered.">    for (String option : options) {</span>
<span class="fc" id="L77">      System.out.println(&quot;|&quot; + centerText(option, 79) + &quot;|&quot;);</span>
    }

<span class="fc" id="L80">    System.out.println(&quot;|===============================================================================|&quot;);</span>
<span class="fc" id="L81">    System.out.print(&quot;Enter your choice: &quot;);</span>
<span class="fc" id="L82">  }</span>

  /**
    * Pads the given text on the right side with spaces to make its length equal to the specified length.
    *
    * @param text   The text to pad.
    * @param length The desired length of the padded text.
    * @return The padded text.
    */

  private static String rightPad(String text, int length) {
<span class="fc" id="L93">    return String.format(&quot;%-&quot; + length + &quot;s&quot;, text);</span>
  }

  /**
    * Centers the given text within a string of the specified length by padding it with spaces on both sides.
    *
    * @param text   The text to center.
    * @param length The desired length of the string containing the centered text.
    * @return The string containing the centered text.
    */


  private static String centerText(String text, int length) {
<span class="fc" id="L106">    int spaces = length - text.length();</span>
<span class="fc" id="L107">    int before = spaces / 2;</span>
<span class="fc" id="L108">    int after = spaces - before;</span>
<span class="fc" id="L109">    return &quot; &quot;.repeat(before) + text + &quot; &quot;.repeat(after);</span>
  }

  /**
   * Clears the console screen.
   * &lt;p&gt;
   * On Windows, it uses the &quot;cls&quot; command through the command prompt. On Unix/Linux/Mac systems,
   * it clears the console screen by printing specific escape characters.
   * &lt;/p&gt;
   */

  public static void clearConsole() {
    try {
      // Windows
<span class="pc bpc" id="L123" title="1 of 2 branches missed.">      if (System.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;)) {</span>
<span class="nc" id="L124">        new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;cls&quot;).inheritIO().start().waitFor();</span>
      }
      // Unix/Linux/Mac
      else {
<span class="fc" id="L128">        System.out.print(&quot;\033[H\033[2J&quot;);</span>
<span class="fc" id="L129">        System.out.flush();</span>
      }
<span class="nc" id="L131">    } catch (IOException | InterruptedException ex) {</span>
      // Handle exception
<span class="nc" id="L133">      ex.printStackTrace();</span>
<span class="fc" id="L134">    }</span>
<span class="fc" id="L135">  }</span>

  /**
   * The entry point of the application.
   *
   * @param args The command line arguments.
   * @throws IOException If an I/O error occurs.
   */
  public static void main(String[] args) throws IOException {
<span class="nc" id="L144">    Scanner scanner = new Scanner(System.in);</span>
<span class="nc" id="L145">    MainApp(scanner, System.out);</span>
<span class="nc" id="L146">  }</span>

  /**
   * Runs the main application loop.
   *
   * @param scanner The scanner object for input.
   * @param out     The output stream for printing.
   * @return An integer indicating the success status of the application.
   * @throws IOException If an I/O error occurs.
   */

  public static int MainApp(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L158">    boolean exit = false;</span>

<span class="fc bfc" id="L160" title="All 2 branches covered.">    while (!exit) {</span>
<span class="fc" id="L161">      control = true;</span>
<span class="fc" id="L162">      String title = &quot;MAIN MENU&quot;;</span>
<span class="fc" id="L163">      String[] options = {</span>
        &quot;1. Register&quot;,
        &quot;2. Login&quot;,
        &quot;3. Exit&quot;
      };
<span class="fc" id="L168">      printMenu(title, options);</span>
<span class="fc" id="L169">      int choice = scanner.nextInt();</span>
<span class="fc" id="L170">      scanner.nextLine();</span>
<span class="fc" id="L171">      control = false;</span>

<span class="pc bpc" id="L173" title="1 of 4 branches missed.">      switch (choice) {</span>
        case 1:
<span class="fc" id="L175">          registerMenu(scanner, System.out);</span>
<span class="fc" id="L176">          break;</span>

        case 2:
<span class="fc" id="L179">          User loggedInUser = loginMenu(scanner, System.out);</span>
<span class="fc" id="L180">          setLoginName(loggedInUser.getUsername());</span>
<span class="fc" id="L181">          setWallet(loggedInUser.getWallet());</span>

<span class="pc bpc" id="L183" title="1 of 2 branches missed.">          if (loggedInUser != null) {</span>
            //clearConsole();
<span class="fc" id="L185">            userMenu(loggedInUser,scanner, System.out);</span>
          }

          break;

        case 3:
<span class="fc" id="L191">          exit = true;</span>
          break;
      }
<span class="fc" id="L194">    }</span>

<span class="fc" id="L196">    scanner.close();</span>
<span class="fc" id="L197">    return 0;</span>
  }

  /**
   * Registers a new user.
   *
   * @param scanner The scanner object for input.
   * @param out     The output stream for printing.
   * @return An integer indicating the success status of the registration process.
   * @throws IOException If an I/O error occurs.
   */


  public static int registerMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L211">    System.out.print(&quot;UserName: &quot;);</span>
<span class="fc" id="L212">    String username = scanner.nextLine();</span>
<span class="fc" id="L213">    System.out.print(&quot;Password: &quot;);</span>
<span class="fc" id="L214">    String password = scanner.nextLine();</span>
<span class="fc" id="L215">    User newUser = new User(username, password, 0);</span>
<span class="fc" id="L216">    userManager.registerUser(newUser);</span>
<span class="fc" id="L217">    return 0;</span>
  }

  //ComicBook
  /**
   * Adds a new book to the book management system.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful addition of the book.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int AddBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L230">    System.out.print(&quot;Book ID: &quot;);</span>
<span class="fc" id="L231">    int bookId = scanner.nextInt();</span>
<span class="fc" id="L232">    scanner.nextLine();</span>
<span class="fc" id="L233">    System.out.print(&quot;Book Name: &quot;);</span>
<span class="fc" id="L234">    String bookName = scanner.nextLine();</span>
<span class="fc" id="L235">    System.out.print(&quot;Book Page Number: &quot;);</span>
<span class="fc" id="L236">    int bookpage = scanner.nextInt();</span>
<span class="fc" id="L237">    System.out.print(&quot;Book Value: &quot;);</span>
<span class="fc" id="L238">    int bookvalue = scanner.nextInt();</span>
<span class="fc" id="L239">    Book newUser = new Book(bookId, bookName,bookpage,LoginName,bookvalue);</span>
<span class="fc" id="L240">    comicmanager.AddBook(newUser);</span>
<span class="fc" id="L241">    return 0;</span>
  }

  /**
   * Displays the list of books owned by the current user.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful display of the book list.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int listBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L253">    out.println(&quot;Book List&quot;);</span>
<span class="fc" id="L254">    comicmanager.listBooksByCondition(LoginName);</span>
<span class="fc" id="L255">    return 0;</span>
  }

  /**
   * Displays the list of all books in the system.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful display of the book list.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int listAllBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L267">    out.println(&quot;Book All List&quot;);</span>
<span class="fc" id="L268">    comicmanager.listBooks();</span>
<span class="fc" id="L269">    return 0;</span>
  }

  /**
   * Deletes a book from the system by its ID.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful deletion of the book.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int deleteBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L281">    out.print(&quot;Book ID: &quot;);</span>
<span class="fc" id="L282">    int bookId = scanner.nextInt();</span>
<span class="fc" id="L283">    comicmanager.deleteBookByID(bookId);</span>
<span class="fc" id="L284">    return 0;</span>
  }


  /**
   * Updates the details of a book in the system by its ID.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful update of the book details.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int updateBookMenu(Scanner scanner, PrintStream out) throws IOException {
    // Prompting user for the ID of the book to be updated
<span class="fc" id="L298">    out.print(&quot;Book ID: &quot;);</span>
<span class="fc" id="L299">    int bookId = scanner.nextInt();</span>
<span class="fc" id="L300">    scanner.nextLine(); // Consume newline character</span>
    // Prompting user for the new details of the book
<span class="fc" id="L302">    out.print(&quot;New Book Name: &quot;);</span>
<span class="fc" id="L303">    String bookName = scanner.nextLine();</span>
<span class="fc" id="L304">    out.print(&quot;New Book Page Number: &quot;);</span>
<span class="fc" id="L305">    int bookpage = scanner.nextInt();</span>
<span class="fc" id="L306">    scanner.nextLine(); // Consume newline character</span>
<span class="fc" id="L307">    out.print(&quot;New Book Value: &quot;);</span>
<span class="fc" id="L308">    int bookvalue = scanner.nextInt();</span>
<span class="fc" id="L309">    scanner.nextLine(); // Consume newline character</span>
    // Updating the details of the book in the system
<span class="fc" id="L311">    comicmanager.updateBookTitleByID(bookId, bookName, bookpage, bookvalue);</span>
<span class="fc" id="L312">    return 0; // Returning 0 to indicate successful update</span>
  }


  //WishList

  /**
   * Adds a book to the wish list of the current user.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful addition of the book to the wish list,
   *         or -1 if the book ID is not available in the system.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int WishAddBookMenu(Scanner scanner, PrintStream out) throws IOException {
    // Prompting user for the ID of the book to be added to the wish list
<span class="fc" id="L329">    out.print(&quot;Book ID: &quot;);</span>
<span class="fc" id="L330">    int bookId = scanner.nextInt();</span>
<span class="fc" id="L331">    scanner.nextLine(); // Consume newline character</span>

    // Checking if the book ID is available in the system
<span class="fc bfc" id="L334" title="All 2 branches covered.">    if (comicmanager.isBookIDAvailable(bookId)) {</span>
<span class="fc" id="L335">      out.println(&quot;No such book found.&quot;);</span>
<span class="fc" id="L336">      return -1; // Returning -1 if the book ID is not available</span>
    }

    // Retrieving book details for wish list entry
<span class="fc" id="L340">    int pageNumber = comicmanager.getBookPageNumberByID(bookId);</span>
<span class="fc" id="L341">    String title = comicmanager.getBookTitleByID(bookId);</span>
<span class="fc" id="L342">    int value = comicmanager.getBookPageNumberByID(bookId);</span>
    // Creating a new Wish object and adding it to the wish list
<span class="fc" id="L344">    Wish newUser = new Wish(bookId, title, pageNumber, LoginName, value);</span>
<span class="fc" id="L345">    wishmanager.AddBook(newUser);</span>
<span class="fc" id="L346">    return 0; // Returning 0 to indicate successful addition to the wish list</span>
  }


  /**
   * Displays the wish list of books owned by the current user.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful display of the wish list.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int WishlistBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L359">    out.println(&quot;Wish Book List&quot;);</span>
<span class="fc" id="L360">    wishmanager.listBooksByUser(LoginName);</span>
<span class="fc" id="L361">    return 0;</span>
  }

  /**
   * Deletes a book from the wish list by its ID.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful deletion of the book from the wish list.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int WishdeleteBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L373">    out.print(&quot;Book ID: &quot;);</span>
<span class="fc" id="L374">    int bookId = scanner.nextInt();</span>
<span class="fc" id="L375">    wishmanager.deleteBookByID(bookId);</span>
<span class="fc" id="L376">    return 0;</span>
  }


  //TradeList


  /**
   * Adds a book to the trade list of the current user and removes it from their collection.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful addition of the book to the trade list.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int TradeAddBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L392">    out.print(&quot;Book ID: &quot;);</span>
<span class="fc" id="L393">    int bookId = scanner.nextInt();</span>
    // Retrieving book details for trade list entry
<span class="fc" id="L395">    int pageNumber = comicmanager.getBookPageNumberByID(bookId);</span>
<span class="fc" id="L396">    String title = comicmanager.getBookTitleByID(bookId);</span>
<span class="fc" id="L397">    int value = comicmanager.getBookValueByID(bookId);</span>
    // Creating a new Trade object and adding it to the trade list
<span class="fc" id="L399">    Trade newUser = new Trade(bookId, title, pageNumber, LoginName, value);</span>
<span class="fc" id="L400">    trademanager.AddTrade(newUser);</span>
    // Deleting the book from the collection
<span class="fc" id="L402">    comicmanager.deleteBookByID(bookId);</span>
<span class="fc" id="L403">    return 0; // Returning 0 to indicate successful addition to the trade list</span>
  }

  /**
   * Displays the trade list of books owned by the current user.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful display of the trade list.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int TradeMylistBookMenu(Scanner scanner, PrintStream out) throws IOException {
    // Displaying the trade list of the current user
<span class="fc" id="L416">    trademanager.listMyTradeList(LoginName);</span>
<span class="fc" id="L417">    return 0;</span>
  }

  /**
   * Deletes a book from the trade list by its ID.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful deletion of the book from the trade list.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int TradedeleteBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L429">    out.print(&quot;Book ID: &quot;);</span>
<span class="fc" id="L430">    int bookId = scanner.nextInt();</span>
<span class="fc" id="L431">    trademanager.deleteTradeByID(bookId);</span>
<span class="fc" id="L432">    return 0;</span>
  }


  /**
   * Displays the list of all books available for trade.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful display of the trade list.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int TradeAllListBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L445">    out.println(&quot;Book List&quot;);</span>
<span class="fc" id="L446">    trademanager.listAllTradeList();</span>
<span class="fc" id="L447">    return 0;</span>
  }

  /**
   * Buys a book from the trade list by its ID if the user's credit score is sufficient.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful purchase of the book, or -1 if the user's credit score is insufficient.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int TradeBuyBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L459">    out.print(&quot;Book ID: &quot;);</span>
<span class="fc" id="L460">    int bookId = scanner.nextInt();</span>

    // Checking if the user's credit score is sufficient to buy the book
<span class="pc bpc" id="L463" title="1 of 2 branches missed.">    if (LoginWallet &gt;= trademanager.getBookValueByID(bookId)) {</span>
<span class="fc" id="L464">      trademanager.BuyTradeByID(bookId);</span>
    } else {
<span class="nc" id="L466">      out.println(&quot;Credit Score Insufficient! Could not purchase.&quot;);</span>
<span class="nc" id="L467">      return -1;</span>
    }

<span class="fc" id="L470">    return 0;</span>
  }

  /**
   * Increases the user's credit score by the specified amount.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful update of the user's credit score.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int CreditBuyScoreMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L482">    out.println(&quot;Credit Score:&quot;);</span>
<span class="fc" id="L483">    int score = scanner.nextInt();</span>
<span class="fc" id="L484">    userManager.creditbuyscore(LoginName, score);</span>
<span class="fc" id="L485">    return 0;</span>
  }



  /**
   * Adds a new event to the event management system.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful addition of the event.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int EventAddBookMenu(Scanner scanner, PrintStream out) throws IOException {
    // Prompting user for event details
<span class="fc" id="L500">    out.print(&quot;Event ID: &quot;);</span>
<span class="fc" id="L501">    int eventId = scanner.nextInt();</span>
<span class="fc" id="L502">    scanner.nextLine(); // Consume newline character</span>
<span class="fc" id="L503">    out.print(&quot;Event Name: &quot;);</span>
<span class="fc" id="L504">    String eventName = scanner.nextLine();</span>
<span class="fc" id="L505">    out.print(&quot;Event Content: &quot;);</span>
<span class="fc" id="L506">    String eventContent = scanner.nextLine();</span>
    // Creating a new Event object with the provided details
<span class="fc" id="L508">    Event newEvent = new Event(eventId, eventName, eventContent, LoginName);</span>
    // Adding the new event to the event management system
<span class="fc" id="L510">    eventmanager.AddEvent(newEvent);</span>
<span class="fc" id="L511">    return 0; // Returning 0 to indicate successful addition</span>
  }

  /**
   * Displays the list of events related to the current user.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful display of the event list.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int EventlistBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L523">    out.println(&quot;Event List&quot;);</span>
<span class="fc" id="L524">    eventmanager.listEventsByCondition(LoginName);</span>
<span class="fc" id="L525">    return 0;</span>
  }

  /**
   * Displays the list of all events in the system.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful display of all events.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int EventlistAllBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L537">    out.println(&quot;Event All List&quot;);</span>
<span class="fc" id="L538">    eventmanager.listEvents();</span>
<span class="fc" id="L539">    return 0;</span>
  }


  /**
   * Deletes an event from the event management system by its ID.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful deletion of the event.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int EventdeleteBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L552">    out.print(&quot;Event ID: &quot;);</span>
<span class="fc" id="L553">    int eventId = scanner.nextInt();</span>
    // Deleting the event from the event management system
<span class="fc" id="L555">    eventmanager.deleteEventByID(eventId);</span>
<span class="fc" id="L556">    return 0;</span>
  }

  /**
   * Updates the details of an event in the event management system by its ID.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful update of the event details.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int EventupdateBookMenu(Scanner scanner, PrintStream out) throws IOException {
    // Prompting user for the ID of the event to be updated
<span class="fc" id="L569">    out.print(&quot;Event ID: &quot;);</span>
<span class="fc" id="L570">    int eventId = scanner.nextInt();</span>
<span class="fc" id="L571">    scanner.nextLine(); // Consume newline character</span>
    // Prompting user for the new details of the event
<span class="fc" id="L573">    out.print(&quot;New Event Name: &quot;);</span>
<span class="fc" id="L574">    String eventName = scanner.nextLine();</span>
<span class="fc" id="L575">    out.print(&quot;New Event Content: &quot;);</span>
<span class="fc" id="L576">    String eventContent = scanner.nextLine();</span>
    // Updating the details of the event in the event management system
<span class="fc" id="L578">    eventmanager.updateEventTitleByID(eventId, eventName, eventContent);</span>
<span class="fc" id="L579">    return 0; // Returning 0 to indicate successful update</span>
  }

  /**
   * Handles the login process for the user.
   *
   * @param scanner Scanner object to read user input.
   * @param out PrintStream object to display output to the user.
   * @return User object representing the logged-in user, or null if login fails.
   * @throws IOException if an I/O error occurs.
   */
  /*
  public static User loginMenu(Scanner scanner, PrintStream out) throws IOException {
      User user = null;
      boolean loggedIn = false;

      do {
          // Prompting user for username and password
          out.print(&quot;UserName: &quot;);
          String username = scanner.nextLine();
          out.print(&quot;Password: &quot;);
          String password = scanner.nextLine();

          // Attempting to log in the user
         user = userManager.login(username, password);

          // Displaying login result
          if (user != null) {
              clearConsole();
              out.println(&quot;Hello, &quot; + user.getUsername() + &quot;!&quot;);
              loggedIn = true;
          } else {
              clearConsole();
              out.println(&quot;Username or password is wrong!&quot;);
              out.println(&quot;Please try again.&quot;);
          }
      } while (!loggedIn);

      return user; // Returning the logged-in user object
  }
  */

  /**
   * Allows a user to log in to the system using their username and password.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns the User object corresponding to the logged-in user if successful,
   *         or null if the login attempt fails.
   * @throws IOException Signals that an I/O exception has occurred.
   */

  public static User loginMenu(Scanner scanner, PrintStream out) throws IOException {
    // Prompting user for username and password
<span class="fc" id="L633">    out.print(&quot;UserName: &quot;);</span>
<span class="fc" id="L634">    String username = scanner.nextLine();</span>
<span class="fc" id="L635">    out.print(&quot;Password: &quot;);</span>
<span class="fc" id="L636">    String password = scanner.nextLine();</span>
    // Attempting to log in the user
<span class="fc" id="L638">    User user = userManager.login(username, password);</span>

    // Displaying login result
<span class="fc bfc" id="L641" title="All 2 branches covered.">    if (user != null) {</span>
<span class="fc" id="L642">      clearConsole();</span>
<span class="fc" id="L643">      out.println(&quot;Hello, &quot; + user.getUsername() + &quot;!&quot;);</span>
    } else {
<span class="fc" id="L645">      clearConsole();</span>
<span class="fc" id="L646">      out.println(&quot;Username or password is wrong!&quot;);</span>
    }

<span class="fc" id="L649">    return user; // Returning the logged-in user object or null if login fails</span>
  }

  /**
   * Displays the user menu and allows the user to interact with the system based on their role.
   *
   * @param user The User object representing the currently logged-in user.
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful completion of user interaction.
   * @throws IOException Signals that an I/O exception has occurred.
   */

  public static int userMenu(User user,Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L663">    boolean exit = false;</span>

<span class="pc bpc" id="L665" title="1 of 2 branches missed.">    while (!exit) {</span>
<span class="fc" id="L666">      String title = &quot;USER MENU&quot;;</span>
<span class="fc" id="L667">      String[] options = {</span>
        &quot;1. Cataloging Comic Book Collection&quot;,
        &quot;2. Wishlist and Trade List Management&quot;,
        &quot;3. Comic Book Events and Conventions&quot;,
        &quot;4. Buy Credit Score&quot;,
        &quot;5. Exit&quot;
      };
<span class="fc" id="L674">      printMenu(title, options);</span>
<span class="fc" id="L675">      int choice = scanner.nextInt();</span>
<span class="fc" id="L676">      scanner.nextLine();</span>

<span class="pc bpc" id="L678" title="1 of 2 branches missed.">      while (choice != 6) {</span>
<span class="pc bpc" id="L679" title="1 of 6 branches missed.">        switch (choice) {</span>
          case 1:
<span class="fc" id="L681">            clearConsole();</span>
<span class="fc" id="L682">            System.out.println(&quot;Cataloging Comic Book Collection&quot;);</span>
<span class="fc" id="L683">            String title2 = &quot;MY BOOK MENU&quot;;</span>
<span class="fc" id="L684">            String[] options2 = {</span>
              &quot;1. My Book Add&quot;,
              &quot;2. My Book Delete&quot;,
              &quot;3. My Book Update&quot;,
              &quot;4. My Book List&quot;,
              &quot;5. All Book List&quot;,
              &quot;6. Exit&quot;
            };
<span class="fc" id="L692">            printMenu(title2, options2);</span>
<span class="fc" id="L693">            int choice2 = scanner.nextInt();</span>
<span class="fc" id="L694">            scanner.nextLine();</span>

<span class="pc bpc" id="L696" title="2 of 7 branches missed.">            switch (choice2) {</span>
              case 1:
                //clearConsole();
<span class="fc" id="L699">                AddBookMenu(scanner, System.out);</span>
<span class="fc" id="L700">                break;</span>

              case 2:
                //clearConsole();
<span class="fc" id="L704">                deleteBookMenu(scanner, System.out);</span>
<span class="fc" id="L705">                break;</span>

              case 3:
                //clearConsole();
<span class="fc" id="L709">                updateBookMenu(scanner, System.out);</span>
<span class="fc" id="L710">                break;</span>

              case 4:
<span class="nc" id="L713">                clearConsole();</span>
<span class="nc" id="L714">                listBookMenu(scanner, System.out);</span>
<span class="nc" id="L715">                break;</span>

              case 5:
<span class="fc" id="L718">                clearConsole();</span>
<span class="fc" id="L719">                listAllBookMenu(scanner, System.out);</span>
<span class="fc" id="L720">                break;</span>

              case 6:
<span class="fc" id="L723">                choice = 5;</span>
                break;
            }

<span class="fc" id="L727">            break;</span>

          case 2:
<span class="fc" id="L730">            clearConsole();</span>
<span class="fc" id="L731">            System.out.println(&quot;Wishlist and Trade List Management&quot;);</span>
<span class="fc" id="L732">            String title3 = &quot;WISHLIST OR TRADE MENU&quot;;</span>
<span class="fc" id="L733">            String[] options3 = {</span>
              &quot;1. My Wish List&quot;,
              &quot;2. My Trade List&quot;,
              &quot;3. Exit&quot;
            };
<span class="fc" id="L738">            printMenu(title3, options3);</span>
<span class="fc" id="L739">            int choice3 = scanner.nextInt();</span>
<span class="fc" id="L740">            scanner.nextLine();</span>

<span class="fc bfc" id="L742" title="All 4 branches covered.">            switch (choice3) {</span>
              case 1:
<span class="fc" id="L744">                clearConsole();</span>
<span class="fc" id="L745">                String title4 = &quot;MY WISHLIST MENU&quot;;</span>
<span class="fc" id="L746">                String[] options4 = {</span>
                  &quot;1. My Wish Book Add&quot;,
                  &quot;2. My Wish Book Delete&quot;,
                  &quot;3. My Wish Book List&quot;,
                  &quot;4. My Book List&quot;,
                  &quot;5. Return&quot;,
                  &quot;5. Exit&quot;
                };
<span class="fc" id="L754">                printMenu(title4, options4);</span>
<span class="fc" id="L755">                int choice4 = scanner.nextInt();</span>
<span class="fc" id="L756">                scanner.nextLine();</span>

<span class="fc bfc" id="L758" title="All 6 branches covered.">                switch (choice4) {</span>
                  case 1:
<span class="fc" id="L760">                    clearConsole();</span>
<span class="fc" id="L761">                    WishAddBookMenu(scanner, System.out);</span>
<span class="fc" id="L762">                    break;</span>

                  case 2:
<span class="fc" id="L765">                    clearConsole();</span>
<span class="fc" id="L766">                    WishdeleteBookMenu(scanner, System.out);</span>
<span class="fc" id="L767">                    break;</span>

                  case 3:
<span class="fc" id="L770">                    clearConsole();</span>
<span class="fc" id="L771">                    WishlistBookMenu(scanner, System.out);</span>
<span class="fc" id="L772">                    break;</span>

                  case 4:
<span class="fc" id="L775">                    clearConsole();</span>
<span class="fc" id="L776">                    listBookMenu(scanner, System.out);</span>
<span class="fc" id="L777">                    break;</span>

                  case 5:
<span class="fc" id="L780">                    choice = 5;</span>
<span class="fc" id="L781">                    break;</span>

                  case 6:
                    break;
                }

<span class="fc" id="L787">                break;</span>

              case 2:
<span class="fc" id="L790">                clearConsole();</span>
<span class="fc" id="L791">                String title5 = &quot;MY TRADE MENU&quot;;</span>
<span class="fc" id="L792">                String[] options5 = {</span>
                  &quot;1. Buy Book&quot;,
                  &quot;2. Sell Book&quot;,
                  &quot;3. Return&quot;,
                  &quot;4. Exit&quot;
                };
<span class="fc" id="L798">                printMenu(title5, options5);</span>
<span class="fc" id="L799">                int choice5 = scanner.nextInt();</span>
<span class="fc" id="L800">                scanner.nextLine();</span>

<span class="pc bpc" id="L802" title="1 of 4 branches missed.">                switch(choice5) {</span>
                  case 1:
<span class="fc" id="L804">                    clearConsole();</span>
<span class="fc" id="L805">                    String title6 = &quot;MY BUY MENU&quot;;</span>
<span class="fc" id="L806">                    String[] options6 = {</span>
                      &quot;1. Buy New Book&quot;,
                      &quot;2. Trade Book List&quot;,
                      &quot;3. Return&quot;,
                      &quot;4. Exit&quot;
                    };
<span class="fc" id="L812">                    printMenu(title6, options6);</span>
<span class="fc" id="L813">                    int choice6 = scanner.nextInt();</span>
<span class="fc" id="L814">                    scanner.nextLine();</span>

<span class="fc bfc" id="L816" title="All 4 branches covered.">                    switch(choice6) {</span>
                      case 1:
<span class="fc" id="L818">                        clearConsole();</span>
<span class="fc" id="L819">                        TradeBuyBookMenu(scanner, System.out);</span>
<span class="fc" id="L820">                        break;</span>

                      case 2:
<span class="fc" id="L823">                        clearConsole();</span>
<span class="fc" id="L824">                        TradeAllListBookMenu(scanner, System.out);</span>
<span class="fc" id="L825">                        break;</span>

                      case 3:
<span class="fc" id="L828">                        choice = 5;</span>
<span class="fc" id="L829">                        break;</span>

                      case 4:
                        break;
                    }

<span class="fc" id="L835">                    break;</span>

                  case 2:
<span class="fc" id="L838">                    String title7 = &quot;MY SELL MENU&quot;;</span>
<span class="fc" id="L839">                    String[] options7 = {</span>
                      &quot;1. Add Sell New Book&quot;,
                      &quot;2. Delete Sell Book&quot;,
                      &quot;3. Trade Book List&quot;,
                      &quot;4. My Trade Book List&quot;,
                      &quot;5. Return&quot;,
                      &quot;6. Exit&quot;
                    };
<span class="fc" id="L847">                    printMenu(title7, options7);</span>
<span class="fc" id="L848">                    int choice7 = scanner.nextInt();</span>
<span class="fc" id="L849">                    scanner.nextLine();</span>

<span class="pc bpc" id="L851" title="1 of 7 branches missed.">                    switch(choice7) {</span>
                      case 1:
<span class="fc" id="L853">                        clearConsole();</span>
<span class="fc" id="L854">                        TradeAddBookMenu(scanner, System.out);</span>
<span class="fc" id="L855">                        break;</span>

                      case 2:
<span class="fc" id="L858">                        clearConsole();</span>
<span class="fc" id="L859">                        TradedeleteBookMenu(scanner, System.out);</span>
<span class="fc" id="L860">                        break;</span>

                      case 3:
<span class="fc" id="L863">                        clearConsole();</span>
<span class="fc" id="L864">                        TradeAllListBookMenu(scanner, System.out);</span>
<span class="fc" id="L865">                        break;</span>

                      case 4:
<span class="fc" id="L868">                        clearConsole();</span>
<span class="fc" id="L869">                        TradeMylistBookMenu(scanner, System.out);</span>
<span class="fc" id="L870">                        break;</span>

                      case 5:
<span class="fc" id="L873">                        choice = 5;</span>
<span class="fc" id="L874">                        break;</span>

                      case 6:
<span class="fc" id="L877">                        exit = true;</span>
                        break;
                    }

<span class="fc" id="L881">                    break;</span>

                  case 3:
<span class="fc" id="L884">                    choice = 5;</span>
                    break;
                }

<span class="fc" id="L888">                break;</span>

              case 3:
<span class="fc" id="L891">                choice = 5;</span>
                break;
            }

<span class="fc" id="L895">            break;</span>

          case 3:
<span class="fc" id="L898">            clearConsole();</span>
<span class="fc" id="L899">            System.out.println(&quot;Comic Book Events and Conventions&quot;);</span>
<span class="fc" id="L900">            String title8 = &quot;MY EVENT MENU&quot;;</span>
<span class="fc" id="L901">            String[] options8 = {</span>
              &quot;1. Add My Event&quot;,
              &quot;2. Sell My Event&quot;,
              &quot;3. Update My Event&quot;,
              &quot;4. My Event List&quot;,
              &quot;5. All Event List&quot;,
              &quot;6. Return&quot;,
              &quot;7. Exit&quot;
            };
<span class="fc" id="L910">            printMenu(title8, options8);</span>
<span class="fc" id="L911">            int choice8 = scanner.nextInt();</span>
<span class="fc" id="L912">            scanner.nextLine();</span>

<span class="fc bfc" id="L914" title="All 7 branches covered.">            switch(choice8) {</span>
              case 1:
<span class="fc" id="L916">                clearConsole();</span>
<span class="fc" id="L917">                EventAddBookMenu(scanner, System.out);</span>
<span class="fc" id="L918">                break;</span>

              case 2:
<span class="fc" id="L921">                clearConsole();</span>
<span class="fc" id="L922">                EventdeleteBookMenu(scanner, System.out);</span>
<span class="fc" id="L923">                break;</span>

              case 3:
<span class="fc" id="L926">                clearConsole();</span>
<span class="fc" id="L927">                EventupdateBookMenu(scanner, System.out);</span>
<span class="fc" id="L928">                break;</span>

              case 4:
<span class="fc" id="L931">                clearConsole();</span>
<span class="fc" id="L932">                EventlistBookMenu(scanner, System.out);</span>
<span class="fc" id="L933">                break;</span>

              case 5:
<span class="fc" id="L936">                clearConsole();</span>
<span class="fc" id="L937">                EventlistAllBookMenu(scanner, System.out);</span>
<span class="fc" id="L938">                break;</span>

              case 6:
<span class="fc" id="L941">                choice = 5;</span>
<span class="fc" id="L942">                break;</span>

              case 7:
                break;
            }

<span class="fc" id="L948">            break;</span>

          case 4:
<span class="fc" id="L951">            clearConsole();</span>
<span class="fc" id="L952">            String title9 = &quot;MY CREDIT SCORE MENU&quot;;</span>
<span class="fc" id="L953">            String[] options9 = {</span>
              &quot;1. Buy Credit Score&quot;,
              &quot;2. Exit&quot;
            };
<span class="fc" id="L957">            printMenu(title9, options9);</span>
<span class="fc" id="L958">            int choice9 = scanner.nextInt();</span>
<span class="fc" id="L959">            scanner.nextLine();</span>

<span class="pc bpc" id="L961" title="1 of 3 branches missed.">            switch(choice9) {</span>
              case 1:
<span class="fc" id="L963">                clearConsole();</span>
<span class="fc" id="L964">                CreditBuyScoreMenu(scanner, System.out);</span>
<span class="fc" id="L965">                break;</span>

              case 2:
<span class="fc" id="L968">                choice = 5;</span>
                break;
            }

<span class="fc" id="L972">            break;</span>

          case 5:
            //System.exit(0);
            //return 0;
<span class="fc" id="L977">            return 0;</span>
        }
      }
<span class="nc" id="L980">    }</span>

<span class="nc" id="L982">    scanner.close();</span>
<span class="nc" id="L983">    return 0;</span>
  }

  /**
   * Returns the login name of the current user.
   *
   * @return The login name of the current user.
   */
  public static String getLoginName() {
<span class="fc" id="L992">    return LoginName;</span>
  }

  /**
   * Sets the login name of the current user.
   *
   * @param loginName The login name to be set.
   */
  public static void setLoginName(String loginName) {
<span class="fc" id="L1001">    LoginName = loginName;</span>
<span class="fc" id="L1002">  }</span>

  /**
   * Returns the wallet balance of the current user.
   *
   * @return The wallet balance of the current user.
   */
  public static int getWallet() {
<span class="fc" id="L1010">    return LoginWallet;</span>
  }

  /**
   * Sets the wallet balance of the current user.
   *
   * @param loginWallet The wallet balance to be set.
   */
  public static void setWallet(int loginWallet) {
<span class="fc" id="L1019">    LoginWallet = loginWallet;</span>
<span class="fc" id="L1020">  }</span>



}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>