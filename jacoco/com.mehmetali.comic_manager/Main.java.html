<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Main.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">comic_manager_app</a> &gt; <a href="index.source.html" class="el_package">com.mehmetali.comic_manager</a> &gt; <span class="el_source">Main.java</span></div><h1>Main.java</h1><pre class="source lang-java linenums">/**
 * The com.mehmetali.comic_manager package contains classes related to the Comic Manager application.
 */
package com.mehmetali.comic_manager;

import java.util.Scanner;
import java.io.IOException;
import java.io.PrintStream;


/**
 * Main class for managing the comic manager application.
 * This class provides methods for user interaction and menu navigation.
 *
 * The Main class serves as the entry point for the application and orchestrates user interaction.
 *
 * @author mehmetali
 * @version 1.0
 */
<span class="nc" id="L20">public class Main {</span>


  /**
   * The username of the logged-in user.
   */
  public static String LoginName;


  /**
   * The wallet balance of the logged-in user.
   */
  public static int LoginWallet;


<span class="fc" id="L35">  private static final Scanner scanner = new Scanner(System.in); /**&lt; The scanner object used for user input. */</span>


<span class="fc" id="L38">  private static final UserManager userManager = new UserManager(); /**&lt; The user manager instance for managing user-related operations. */</span>


<span class="fc" id="L41">  private static final BookManager comicmanager = new BookManager(); /**&lt; The comic manager instance for managing comic book-related operations. */</span>


<span class="fc" id="L44">  private static final WishManager wishmanager = new WishManager(); /**&lt; The wish manager instance for managing wish-related operations. */</span>


<span class="fc" id="L47">  private static final TradeManager trademanager = new TradeManager(); /**&lt; The trade manager instance for managing trade-related operations. */</span>


<span class="fc" id="L50">  private static final EventManager eventmanager = new EventManager(); /**&lt; The event manager instance for managing event-related operations. */</span>


<span class="fc" id="L53">  public static boolean control = false; /**&lt; Boolean variable indicating control status. */</span>


  /**
     * Prints the menu with the specified title and options.
     *
     * @param title   The title of the menu.
     * @param options An array of strings representing the menu options.
     */
  private static void printMenu(String title, String[] options) {
<span class="fc" id="L63">    System.out.println(&quot;|===============================================================================|&quot;);</span>
<span class="fc" id="L64">    System.out.println(&quot;|&quot; + centerText(title, 79) + &quot;|&quot;);</span>
<span class="fc" id="L65">    System.out.println(&quot;|===============================================================================|&quot;);</span>
<span class="fc" id="L66">    int wallet = userManager.getUserWallet(LoginName);</span>

<span class="fc bfc" id="L68" title="All 2 branches covered.">    if(control == false) {</span>
<span class="fc" id="L69">      System.out.println(&quot;|&quot; + rightPad(&quot;User: &quot; + LoginName, 79) + &quot;|&quot;);</span>
<span class="fc" id="L70">      System.out.println(&quot;|&quot; + rightPad(&quot;Money: &quot; + wallet, 79) + &quot;|&quot;);</span>
    }

<span class="fc bfc" id="L73" title="All 2 branches covered.">    for (String option : options) {</span>
<span class="fc" id="L74">      System.out.println(&quot;|&quot; + centerText(option, 79) + &quot;|&quot;);</span>
    }

<span class="fc" id="L77">    System.out.println(&quot;|===============================================================================|&quot;);</span>
<span class="fc" id="L78">    System.out.print(&quot;Enter your choice: &quot;);</span>
<span class="fc" id="L79">  }</span>


  /**
    * Pads the given text on the right side with spaces to make its length equal to the specified length.
    *
    * @param text   The text to pad.
    * @param length The desired length of the padded text.
    * @return The padded text.
    */
  private static String rightPad(String text, int length) {
<span class="fc" id="L90">    return String.format(&quot;%-&quot; + length + &quot;s&quot;, text);</span>
  }


  /**
    * Centers the given text within a string of the specified length by padding it with spaces on both sides.
    *
    * @param text   The text to center.
    * @param length The desired length of the string containing the centered text.
    * @return The string containing the centered text.
    */
  private static String centerText(String text, int length) {
<span class="fc" id="L102">    int spaces = length - text.length();</span>
<span class="fc" id="L103">    int before = spaces / 2;</span>
<span class="fc" id="L104">    int after = spaces - before;</span>
<span class="fc" id="L105">    return &quot; &quot;.repeat(before) + text + &quot; &quot;.repeat(after);</span>
  }


  /**
   * Clears the console screen.
   * &lt;p&gt;
   * On Windows, it uses the &quot;cls&quot; command through the command prompt. On Unix/Linux/Mac systems,
   * it clears the console screen by printing specific escape characters.
   * &lt;/p&gt;
   */
  public static void clearConsole() {
    try {
      // Windows
<span class="pc bpc" id="L119" title="1 of 2 branches missed.">      if (System.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;)) {</span>
<span class="nc" id="L120">        new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, &quot;cls&quot;).inheritIO().start().waitFor();</span>
      }
      // Unix/Linux/Mac
      else {
<span class="fc" id="L124">        System.out.print(&quot;\033[H\033[2J&quot;);</span>
<span class="fc" id="L125">        System.out.flush();</span>
      }
<span class="nc" id="L127">    } catch (IOException | InterruptedException ex) {</span>
      // Handle exception
<span class="nc" id="L129">      ex.printStackTrace();</span>
<span class="fc" id="L130">    }</span>
<span class="fc" id="L131">  }</span>


  /**
   * The entry point of the application.
   *
   * @param args The command line arguments.
   * @throws IOException If an I/O error occurs.
   */
  public static void main(String[] args) throws IOException {
<span class="nc" id="L141">    Scanner scanner = new Scanner(System.in);</span>
<span class="nc" id="L142">    MainApp(scanner, System.out);</span>
<span class="nc" id="L143">  }</span>


  /**
   * Runs the main application loop.
   *
   * @param scanner The scanner object for input.
   * @param out     The output stream for printing.
   * @return An integer indicating the success status of the application.
   * @throws IOException If an I/O error occurs.
   */
  public static int MainApp(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L155">    boolean exit = false;</span>

<span class="fc bfc" id="L157" title="All 2 branches covered.">    while (!exit) {</span>
<span class="fc" id="L158">      control = true;</span>
<span class="fc" id="L159">      String title = &quot;MAIN MENU&quot;;</span>
<span class="fc" id="L160">      String[] options = {</span>
        &quot;1. Register&quot;,
        &quot;2. Login&quot;,
        &quot;3. Exit&quot;
      };
<span class="fc" id="L165">      printMenu(title, options);</span>
<span class="fc" id="L166">      int choice = scanner.nextInt();</span>
<span class="fc" id="L167">      scanner.nextLine();</span>
<span class="fc" id="L168">      control = false;</span>

<span class="pc bpc" id="L170" title="1 of 4 branches missed.">      switch (choice) {</span>
        case 1:
<span class="fc" id="L172">          registerMenu(scanner, System.out);</span>
<span class="fc" id="L173">          break;</span>

        case 2:
<span class="fc" id="L176">          User loggedInUser = loginMenu(scanner, System.out);</span>
<span class="fc" id="L177">          setLoginName(loggedInUser.getUsername());</span>
<span class="fc" id="L178">          setWallet(loggedInUser.getWallet());</span>

<span class="pc bpc" id="L180" title="1 of 2 branches missed.">          if (loggedInUser != null) {</span>
            //clearConsole();
<span class="fc" id="L182">            userMenu(loggedInUser,scanner, System.out);</span>
          }

          break;

        case 3:
<span class="fc" id="L188">          exit = true;</span>
          break;
      }
<span class="fc" id="L191">    }</span>

<span class="fc" id="L193">    scanner.close();</span>
<span class="fc" id="L194">    return 0;</span>
  }


  /**
   * Registers a new user.
   *
   * @param scanner The scanner object for input.
   * @param out     The output stream for printing.
   * @return An integer indicating the success status of the registration process.
   * @throws IOException If an I/O error occurs.
   */
  public static int registerMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L207">    System.out.print(&quot;UserName: &quot;);</span>
<span class="fc" id="L208">    String username = scanner.nextLine();</span>
<span class="fc" id="L209">    System.out.print(&quot;Password: &quot;);</span>
<span class="fc" id="L210">    String password = scanner.nextLine();</span>
<span class="fc" id="L211">    User newUser = new User(username, password, 0);</span>
<span class="fc" id="L212">    userManager.registerUser(newUser);</span>
<span class="fc" id="L213">    return 0;</span>
  }


  /**
   * Adds a new book to the book management system.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful addition of the book.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int AddBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L226">    System.out.print(&quot;Book ID: &quot;);</span>
<span class="fc" id="L227">    int bookId = scanner.nextInt();</span>
<span class="fc" id="L228">    scanner.nextLine();</span>
<span class="fc" id="L229">    System.out.print(&quot;Book Name: &quot;);</span>
<span class="fc" id="L230">    String bookName = scanner.nextLine();</span>
<span class="fc" id="L231">    System.out.print(&quot;Book Page Number: &quot;);</span>
<span class="fc" id="L232">    int bookpage = scanner.nextInt();</span>
<span class="fc" id="L233">    System.out.print(&quot;Book Value: &quot;);</span>
<span class="fc" id="L234">    int bookvalue = scanner.nextInt();</span>
<span class="fc" id="L235">    Book newUser = new Book(bookId, bookName,bookpage,LoginName,bookvalue);</span>
<span class="fc" id="L236">    comicmanager.AddBook(newUser);</span>
<span class="fc" id="L237">    return 0;</span>
  }


  /**
   * Displays the list of books owned by the current user.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful display of the book list.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int listBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L250">    out.println(&quot;Book List&quot;);</span>
<span class="fc" id="L251">    comicmanager.listBooksByCondition(LoginName);</span>
<span class="fc" id="L252">    return 0;</span>
  }


  /**
   * Displays the list of all books in the system.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful display of the book list.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int listAllBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L265">    out.println(&quot;Book All List&quot;);</span>
<span class="fc" id="L266">    comicmanager.listBooks();</span>
<span class="fc" id="L267">    return 0;</span>
  }


  /**
   * Deletes a book from the system by its ID.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful deletion of the book.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int deleteBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L280">    out.print(&quot;Book ID: &quot;);</span>
<span class="fc" id="L281">    int bookId = scanner.nextInt();</span>
<span class="fc" id="L282">    comicmanager.deleteBookByID(bookId);</span>
<span class="fc" id="L283">    return 0;</span>
  }


  /**
   * Updates the details of a book in the system by its ID.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful update of the book details.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int updateBookMenu(Scanner scanner, PrintStream out) throws IOException {
    // Prompting user for the ID of the book to be updated
<span class="fc" id="L297">    out.print(&quot;Book ID: &quot;);</span>
<span class="fc" id="L298">    int bookId = scanner.nextInt();</span>
<span class="fc" id="L299">    scanner.nextLine(); // Consume newline character</span>
    // Prompting user for the new details of the book
<span class="fc" id="L301">    out.print(&quot;New Book Name: &quot;);</span>
<span class="fc" id="L302">    String bookName = scanner.nextLine();</span>
<span class="fc" id="L303">    out.print(&quot;New Book Page Number: &quot;);</span>
<span class="fc" id="L304">    int bookpage = scanner.nextInt();</span>
<span class="fc" id="L305">    scanner.nextLine(); // Consume newline character</span>
<span class="fc" id="L306">    out.print(&quot;New Book Value: &quot;);</span>
<span class="fc" id="L307">    int bookvalue = scanner.nextInt();</span>
<span class="fc" id="L308">    scanner.nextLine(); // Consume newline character</span>
    // Updating the details of the book in the system
<span class="fc" id="L310">    comicmanager.updateBookTitleByID(bookId, bookName, bookpage, bookvalue);</span>
<span class="fc" id="L311">    return 0; // Returning 0 to indicate successful update</span>
  }


  /**
   * Adds a book to the wish list of the current user.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful addition of the book to the wish list,
   *         or -1 if the book ID is not available in the system.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int WishAddBookMenu(Scanner scanner, PrintStream out) throws IOException {
    // Prompting user for the ID of the book to be added to the wish list
<span class="fc" id="L326">    out.print(&quot;Book ID: &quot;);</span>
<span class="fc" id="L327">    int bookId = scanner.nextInt();</span>
<span class="fc" id="L328">    scanner.nextLine(); // Consume newline character</span>

    // Checking if the book ID is available in the system
<span class="fc bfc" id="L331" title="All 2 branches covered.">    if (comicmanager.isBookIDAvailable(bookId)) {</span>
<span class="fc" id="L332">      out.println(&quot;No such book found.&quot;);</span>
<span class="fc" id="L333">      return -1; // Returning -1 if the book ID is not available</span>
    }

    // Retrieving book details for wish list entry
<span class="fc" id="L337">    int pageNumber = comicmanager.getBookPageNumberByID(bookId);</span>
<span class="fc" id="L338">    String title = comicmanager.getBookTitleByID(bookId);</span>
<span class="fc" id="L339">    int value = comicmanager.getBookPageNumberByID(bookId);</span>
    // Creating a new Wish object and adding it to the wish list
<span class="fc" id="L341">    Wish newUser = new Wish(bookId, title, pageNumber, LoginName, value);</span>
<span class="fc" id="L342">    wishmanager.AddBook(newUser);</span>
<span class="fc" id="L343">    return 0; // Returning 0 to indicate successful addition to the wish list</span>
  }


  /**
   * Displays the wish list of books owned by the current user.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful display of the wish list.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int WishlistBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L356">    out.println(&quot;Wish Book List&quot;);</span>
<span class="fc" id="L357">    wishmanager.listBooksByUser(LoginName);</span>
<span class="fc" id="L358">    return 0;</span>
  }


  /**
   * Deletes a book from the wish list by its ID.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful deletion of the book from the wish list.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int WishdeleteBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L371">    out.print(&quot;Book ID: &quot;);</span>
<span class="fc" id="L372">    int bookId = scanner.nextInt();</span>
<span class="fc" id="L373">    wishmanager.deleteBookByID(bookId);</span>
<span class="fc" id="L374">    return 0;</span>
  }


  /**
   * Adds a book to the trade list of the current user and removes it from their collection.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful addition of the book to the trade list.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int TradeAddBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L387">    out.print(&quot;Book ID: &quot;);</span>
<span class="fc" id="L388">    int bookId = scanner.nextInt();</span>
    // Retrieving book details for trade list entry
<span class="fc" id="L390">    int pageNumber = comicmanager.getBookPageNumberByID(bookId);</span>
<span class="fc" id="L391">    String title = comicmanager.getBookTitleByID(bookId);</span>
<span class="fc" id="L392">    int value = comicmanager.getBookValueByID(bookId);</span>
    // Creating a new Trade object and adding it to the trade list
<span class="fc" id="L394">    Trade newUser = new Trade(bookId, title, pageNumber, LoginName, value);</span>
<span class="fc" id="L395">    trademanager.AddTrade(newUser);</span>
    // Deleting the book from the collection
<span class="fc" id="L397">    comicmanager.deleteBookByID(bookId);</span>
<span class="fc" id="L398">    return 0; // Returning 0 to indicate successful addition to the trade list</span>
  }


  /**
   * Displays the trade list of books owned by the current user.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful display of the trade list.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int TradeMylistBookMenu(Scanner scanner, PrintStream out) throws IOException {
    // Displaying the trade list of the current user
<span class="fc" id="L412">    trademanager.listMyTradeList(LoginName);</span>
<span class="fc" id="L413">    return 0;</span>
  }


  /**
   * Deletes a book from the trade list by its ID.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful deletion of the book from the trade list.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int TradedeleteBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L426">    out.print(&quot;Book ID: &quot;);</span>
<span class="fc" id="L427">    int bookId = scanner.nextInt();</span>
<span class="fc" id="L428">    trademanager.deleteTradeByID(bookId);</span>
<span class="fc" id="L429">    return 0;</span>
  }


  /**
   * Displays the list of all books available for trade.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful display of the trade list.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int TradeAllListBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L442">    out.println(&quot;Book List&quot;);</span>
<span class="fc" id="L443">    trademanager.listAllTradeList();</span>
<span class="fc" id="L444">    return 0;</span>
  }


  /**
   * Buys a book from the trade list by its ID if the user's credit score is sufficient.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful purchase of the book, or -1 if the user's credit score is insufficient.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int TradeBuyBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L457">    out.print(&quot;Book ID: &quot;);</span>
<span class="fc" id="L458">    int bookId = scanner.nextInt();</span>

    // Checking if the user's credit score is sufficient to buy the book
<span class="pc bpc" id="L461" title="1 of 2 branches missed.">    if (LoginWallet &gt;= trademanager.getBookValueByID(bookId)) {</span>
<span class="fc" id="L462">      trademanager.BuyTradeByID(bookId);</span>
    } else {
<span class="nc" id="L464">      out.println(&quot;Credit Score Insufficient! Could not purchase.&quot;);</span>
<span class="nc" id="L465">      return -1;</span>
    }

<span class="fc" id="L468">    return 0;</span>
  }


  /**
   * Increases the user's credit score by the specified amount.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful update of the user's credit score.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int CreditBuyScoreMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L481">    out.println(&quot;Credit Score:&quot;);</span>
<span class="fc" id="L482">    int score = scanner.nextInt();</span>
<span class="fc" id="L483">    userManager.creditbuyscore(LoginName, score);</span>
<span class="fc" id="L484">    return 0;</span>
  }


  /**
   * Adds a new event to the event management system.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful addition of the event.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int EventAddBookMenu(Scanner scanner, PrintStream out) throws IOException {
    // Prompting user for event details
<span class="fc" id="L498">    out.print(&quot;Event ID: &quot;);</span>
<span class="fc" id="L499">    int eventId = scanner.nextInt();</span>
<span class="fc" id="L500">    scanner.nextLine(); // Consume newline character</span>
<span class="fc" id="L501">    out.print(&quot;Event Name: &quot;);</span>
<span class="fc" id="L502">    String eventName = scanner.nextLine();</span>
<span class="fc" id="L503">    out.print(&quot;Event Content: &quot;);</span>
<span class="fc" id="L504">    String eventContent = scanner.nextLine();</span>
    // Creating a new Event object with the provided details
<span class="fc" id="L506">    Event newEvent = new Event(eventId, eventName, eventContent, LoginName);</span>
    // Adding the new event to the event management system
<span class="fc" id="L508">    eventmanager.AddEvent(newEvent);</span>
<span class="fc" id="L509">    return 0; // Returning 0 to indicate successful addition</span>
  }


  /**
   * Displays the list of events related to the current user.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful display of the event list.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int EventlistBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L522">    out.println(&quot;Event List&quot;);</span>
<span class="fc" id="L523">    eventmanager.listEventsByCondition(LoginName);</span>
<span class="fc" id="L524">    return 0;</span>
  }


  /**
   * Displays the list of all events in the system.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful display of all events.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int EventlistAllBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L537">    out.println(&quot;Event All List&quot;);</span>
<span class="fc" id="L538">    eventmanager.listEvents();</span>
<span class="fc" id="L539">    return 0;</span>
  }


  /**
   * Deletes an event from the event management system by its ID.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful deletion of the event.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int EventdeleteBookMenu(Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L552">    out.print(&quot;Event ID: &quot;);</span>
<span class="fc" id="L553">    int eventId = scanner.nextInt();</span>
    // Deleting the event from the event management system
<span class="fc" id="L555">    eventmanager.deleteEventByID(eventId);</span>
<span class="fc" id="L556">    return 0;</span>
  }


  /**
   * Updates the details of an event in the event management system by its ID.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful update of the event details.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int EventupdateBookMenu(Scanner scanner, PrintStream out) throws IOException {
    // Prompting user for the ID of the event to be updated
<span class="fc" id="L570">    out.print(&quot;Event ID: &quot;);</span>
<span class="fc" id="L571">    int eventId = scanner.nextInt();</span>
<span class="fc" id="L572">    scanner.nextLine(); // Consume newline character</span>
    // Prompting user for the new details of the event
<span class="fc" id="L574">    out.print(&quot;New Event Name: &quot;);</span>
<span class="fc" id="L575">    String eventName = scanner.nextLine();</span>
<span class="fc" id="L576">    out.print(&quot;New Event Content: &quot;);</span>
<span class="fc" id="L577">    String eventContent = scanner.nextLine();</span>
    // Updating the details of the event in the event management system
<span class="fc" id="L579">    eventmanager.updateEventTitleByID(eventId, eventName, eventContent);</span>
<span class="fc" id="L580">    return 0; // Returning 0 to indicate successful update</span>
  }


  /**
   * Allows a user to log in to the system using their username and password.
   *
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns the User object corresponding to the logged-in user if successful, or null if the login attempt fails.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static User loginMenu(Scanner scanner, PrintStream out) throws IOException {
    // Prompting user for username and password
<span class="fc" id="L594">    out.print(&quot;UserName: &quot;);</span>
<span class="fc" id="L595">    String username = scanner.nextLine();</span>
<span class="fc" id="L596">    out.print(&quot;Password: &quot;);</span>
<span class="fc" id="L597">    String password = scanner.nextLine();</span>
    // Attempting to log in the user
<span class="fc" id="L599">    User user = userManager.login(username, password);</span>

    // Displaying login result
<span class="fc bfc" id="L602" title="All 2 branches covered.">    if (user != null) {</span>
<span class="fc" id="L603">      clearConsole();</span>
<span class="fc" id="L604">      out.println(&quot;Hello, &quot; + user.getUsername() + &quot;!&quot;);</span>
    } else {
<span class="fc" id="L606">      clearConsole();</span>
<span class="fc" id="L607">      out.println(&quot;Username or password is wrong!&quot;);</span>
    }

<span class="fc" id="L610">    return user; // Returning the logged-in user object or null if login fails</span>
  }


  /**
   * Displays the user menu and allows the user to interact with the system based on their role.
   *
   * @param user The User object representing the currently logged-in user.
   * @param scanner A Scanner object for user input.
   * @param out A PrintStream object for output.
   * @return Returns 0 upon successful completion of user interaction.
   * @throws IOException Signals that an I/O exception has occurred.
   */
  public static int userMenu(User user,Scanner scanner, PrintStream out) throws IOException {
<span class="fc" id="L624">    boolean exit = false;</span>

<span class="pc bpc" id="L626" title="1 of 2 branches missed.">    while (!exit) {</span>
<span class="fc" id="L627">      String title = &quot;USER MENU&quot;;</span>
<span class="fc" id="L628">      String[] options = {</span>
        &quot;1. Cataloging Comic Book Collection&quot;,
        &quot;2. Wishlist and Trade List Management&quot;,
        &quot;3. Comic Book Events and Conventions&quot;,
        &quot;4. Buy Credit Score&quot;,
        &quot;5. Exit&quot;
      };
<span class="fc" id="L635">      printMenu(title, options);</span>
<span class="fc" id="L636">      int choice = scanner.nextInt();</span>
<span class="fc" id="L637">      scanner.nextLine();</span>

<span class="pc bpc" id="L639" title="1 of 2 branches missed.">      while (choice != 6) {</span>
<span class="pc bpc" id="L640" title="1 of 6 branches missed.">        switch (choice) {</span>
          case 1:
<span class="fc" id="L642">            clearConsole();</span>
<span class="fc" id="L643">            System.out.println(&quot;Cataloging Comic Book Collection&quot;);</span>
<span class="fc" id="L644">            String title2 = &quot;MY BOOK MENU&quot;;</span>
<span class="fc" id="L645">            String[] options2 = {</span>
              &quot;1. My Book Add&quot;,
              &quot;2. My Book Delete&quot;,
              &quot;3. My Book Update&quot;,
              &quot;4. My Book List&quot;,
              &quot;5. All Book List&quot;,
              &quot;6. Exit&quot;
            };
<span class="fc" id="L653">            printMenu(title2, options2);</span>
<span class="fc" id="L654">            int choice2 = scanner.nextInt();</span>
<span class="fc" id="L655">            scanner.nextLine();</span>

<span class="pc bpc" id="L657" title="2 of 7 branches missed.">            switch (choice2) {</span>
              case 1:
                //clearConsole();
<span class="fc" id="L660">                AddBookMenu(scanner, System.out);</span>
<span class="fc" id="L661">                break;</span>

              case 2:
                //clearConsole();
<span class="fc" id="L665">                deleteBookMenu(scanner, System.out);</span>
<span class="fc" id="L666">                break;</span>

              case 3:
                //clearConsole();
<span class="fc" id="L670">                updateBookMenu(scanner, System.out);</span>
<span class="fc" id="L671">                break;</span>

              case 4:
<span class="nc" id="L674">                clearConsole();</span>
<span class="nc" id="L675">                listBookMenu(scanner, System.out);</span>
<span class="nc" id="L676">                break;</span>

              case 5:
<span class="fc" id="L679">                clearConsole();</span>
<span class="fc" id="L680">                listAllBookMenu(scanner, System.out);</span>
<span class="fc" id="L681">                break;</span>

              case 6:
<span class="fc" id="L684">                choice = 5;</span>
                break;
            }

<span class="fc" id="L688">            break;</span>

          case 2:
<span class="fc" id="L691">            clearConsole();</span>
<span class="fc" id="L692">            System.out.println(&quot;Wishlist and Trade List Management&quot;);</span>
<span class="fc" id="L693">            String title3 = &quot;WISHLIST OR TRADE MENU&quot;;</span>
<span class="fc" id="L694">            String[] options3 = {</span>
              &quot;1. My Wish List&quot;,
              &quot;2. My Trade List&quot;,
              &quot;3. Exit&quot;
            };
<span class="fc" id="L699">            printMenu(title3, options3);</span>
<span class="fc" id="L700">            int choice3 = scanner.nextInt();</span>
<span class="fc" id="L701">            scanner.nextLine();</span>

<span class="fc bfc" id="L703" title="All 4 branches covered.">            switch (choice3) {</span>
              case 1:
<span class="fc" id="L705">                clearConsole();</span>
<span class="fc" id="L706">                String title4 = &quot;MY WISHLIST MENU&quot;;</span>
<span class="fc" id="L707">                String[] options4 = {</span>
                  &quot;1. My Wish Book Add&quot;,
                  &quot;2. My Wish Book Delete&quot;,
                  &quot;3. My Wish Book List&quot;,
                  &quot;4. My Book List&quot;,
                  &quot;5. Return&quot;,
                  &quot;5. Exit&quot;
                };
<span class="fc" id="L715">                printMenu(title4, options4);</span>
<span class="fc" id="L716">                int choice4 = scanner.nextInt();</span>
<span class="fc" id="L717">                scanner.nextLine();</span>

<span class="fc bfc" id="L719" title="All 6 branches covered.">                switch (choice4) {</span>
                  case 1:
<span class="fc" id="L721">                    clearConsole();</span>
<span class="fc" id="L722">                    WishAddBookMenu(scanner, System.out);</span>
<span class="fc" id="L723">                    break;</span>

                  case 2:
<span class="fc" id="L726">                    clearConsole();</span>
<span class="fc" id="L727">                    WishdeleteBookMenu(scanner, System.out);</span>
<span class="fc" id="L728">                    break;</span>

                  case 3:
<span class="fc" id="L731">                    clearConsole();</span>
<span class="fc" id="L732">                    WishlistBookMenu(scanner, System.out);</span>
<span class="fc" id="L733">                    break;</span>

                  case 4:
<span class="fc" id="L736">                    clearConsole();</span>
<span class="fc" id="L737">                    listBookMenu(scanner, System.out);</span>
<span class="fc" id="L738">                    break;</span>

                  case 5:
<span class="fc" id="L741">                    choice = 5;</span>
<span class="fc" id="L742">                    break;</span>

                  case 6:
                    break;
                }

<span class="fc" id="L748">                break;</span>

              case 2:
<span class="fc" id="L751">                clearConsole();</span>
<span class="fc" id="L752">                String title5 = &quot;MY TRADE MENU&quot;;</span>
<span class="fc" id="L753">                String[] options5 = {</span>
                  &quot;1. Buy Book&quot;,
                  &quot;2. Sell Book&quot;,
                  &quot;3. Return&quot;,
                  &quot;4. Exit&quot;
                };
<span class="fc" id="L759">                printMenu(title5, options5);</span>
<span class="fc" id="L760">                int choice5 = scanner.nextInt();</span>
<span class="fc" id="L761">                scanner.nextLine();</span>

<span class="pc bpc" id="L763" title="1 of 4 branches missed.">                switch(choice5) {</span>
                  case 1:
<span class="fc" id="L765">                    clearConsole();</span>
<span class="fc" id="L766">                    String title6 = &quot;MY BUY MENU&quot;;</span>
<span class="fc" id="L767">                    String[] options6 = {</span>
                      &quot;1. Buy New Book&quot;,
                      &quot;2. Trade Book List&quot;,
                      &quot;3. Return&quot;,
                      &quot;4. Exit&quot;
                    };
<span class="fc" id="L773">                    printMenu(title6, options6);</span>
<span class="fc" id="L774">                    int choice6 = scanner.nextInt();</span>
<span class="fc" id="L775">                    scanner.nextLine();</span>

<span class="fc bfc" id="L777" title="All 4 branches covered.">                    switch(choice6) {</span>
                      case 1:
<span class="fc" id="L779">                        clearConsole();</span>
<span class="fc" id="L780">                        TradeBuyBookMenu(scanner, System.out);</span>
<span class="fc" id="L781">                        break;</span>

                      case 2:
<span class="fc" id="L784">                        clearConsole();</span>
<span class="fc" id="L785">                        TradeAllListBookMenu(scanner, System.out);</span>
<span class="fc" id="L786">                        break;</span>

                      case 3:
<span class="fc" id="L789">                        choice = 5;</span>
<span class="fc" id="L790">                        break;</span>

                      case 4:
                        break;
                    }

<span class="fc" id="L796">                    break;</span>

                  case 2:
<span class="fc" id="L799">                    String title7 = &quot;MY SELL MENU&quot;;</span>
<span class="fc" id="L800">                    String[] options7 = {</span>
                      &quot;1. Add Sell New Book&quot;,
                      &quot;2. Delete Sell Book&quot;,
                      &quot;3. Trade Book List&quot;,
                      &quot;4. My Trade Book List&quot;,
                      &quot;5. Return&quot;,
                      &quot;6. Exit&quot;
                    };
<span class="fc" id="L808">                    printMenu(title7, options7);</span>
<span class="fc" id="L809">                    int choice7 = scanner.nextInt();</span>
<span class="fc" id="L810">                    scanner.nextLine();</span>

<span class="pc bpc" id="L812" title="1 of 7 branches missed.">                    switch(choice7) {</span>
                      case 1:
<span class="fc" id="L814">                        clearConsole();</span>
<span class="fc" id="L815">                        TradeAddBookMenu(scanner, System.out);</span>
<span class="fc" id="L816">                        break;</span>

                      case 2:
<span class="fc" id="L819">                        clearConsole();</span>
<span class="fc" id="L820">                        TradedeleteBookMenu(scanner, System.out);</span>
<span class="fc" id="L821">                        break;</span>

                      case 3:
<span class="fc" id="L824">                        clearConsole();</span>
<span class="fc" id="L825">                        TradeAllListBookMenu(scanner, System.out);</span>
<span class="fc" id="L826">                        break;</span>

                      case 4:
<span class="fc" id="L829">                        clearConsole();</span>
<span class="fc" id="L830">                        TradeMylistBookMenu(scanner, System.out);</span>
<span class="fc" id="L831">                        break;</span>

                      case 5:
<span class="fc" id="L834">                        choice = 5;</span>
<span class="fc" id="L835">                        break;</span>

                      case 6:
<span class="fc" id="L838">                        exit = true;</span>
                        break;
                    }

<span class="fc" id="L842">                    break;</span>

                  case 3:
<span class="fc" id="L845">                    choice = 5;</span>
                    break;
                }

<span class="fc" id="L849">                break;</span>

              case 3:
<span class="fc" id="L852">                choice = 5;</span>
                break;
            }

<span class="fc" id="L856">            break;</span>

          case 3:
<span class="fc" id="L859">            clearConsole();</span>
<span class="fc" id="L860">            System.out.println(&quot;Comic Book Events and Conventions&quot;);</span>
<span class="fc" id="L861">            String title8 = &quot;MY EVENT MENU&quot;;</span>
<span class="fc" id="L862">            String[] options8 = {</span>
              &quot;1. Add My Event&quot;,
              &quot;2. Sell My Event&quot;,
              &quot;3. Update My Event&quot;,
              &quot;4. My Event List&quot;,
              &quot;5. All Event List&quot;,
              &quot;6. Return&quot;,
              &quot;7. Exit&quot;
            };
<span class="fc" id="L871">            printMenu(title8, options8);</span>
<span class="fc" id="L872">            int choice8 = scanner.nextInt();</span>
<span class="fc" id="L873">            scanner.nextLine();</span>

<span class="fc bfc" id="L875" title="All 7 branches covered.">            switch(choice8) {</span>
              case 1:
<span class="fc" id="L877">                clearConsole();</span>
<span class="fc" id="L878">                EventAddBookMenu(scanner, System.out);</span>
<span class="fc" id="L879">                break;</span>

              case 2:
<span class="fc" id="L882">                clearConsole();</span>
<span class="fc" id="L883">                EventdeleteBookMenu(scanner, System.out);</span>
<span class="fc" id="L884">                break;</span>

              case 3:
<span class="fc" id="L887">                clearConsole();</span>
<span class="fc" id="L888">                EventupdateBookMenu(scanner, System.out);</span>
<span class="fc" id="L889">                break;</span>

              case 4:
<span class="fc" id="L892">                clearConsole();</span>
<span class="fc" id="L893">                EventlistBookMenu(scanner, System.out);</span>
<span class="fc" id="L894">                break;</span>

              case 5:
<span class="fc" id="L897">                clearConsole();</span>
<span class="fc" id="L898">                EventlistAllBookMenu(scanner, System.out);</span>
<span class="fc" id="L899">                break;</span>

              case 6:
<span class="fc" id="L902">                choice = 5;</span>
<span class="fc" id="L903">                break;</span>

              case 7:
                break;
            }

<span class="fc" id="L909">            break;</span>

          case 4:
<span class="fc" id="L912">            clearConsole();</span>
<span class="fc" id="L913">            String title9 = &quot;MY CREDIT SCORE MENU&quot;;</span>
<span class="fc" id="L914">            String[] options9 = {</span>
              &quot;1. Buy Credit Score&quot;,
              &quot;2. Exit&quot;
            };
<span class="fc" id="L918">            printMenu(title9, options9);</span>
<span class="fc" id="L919">            int choice9 = scanner.nextInt();</span>
<span class="fc" id="L920">            scanner.nextLine();</span>

<span class="pc bpc" id="L922" title="1 of 3 branches missed.">            switch(choice9) {</span>
              case 1:
<span class="fc" id="L924">                clearConsole();</span>
<span class="fc" id="L925">                CreditBuyScoreMenu(scanner, System.out);</span>
<span class="fc" id="L926">                break;</span>

              case 2:
<span class="fc" id="L929">                choice = 5;</span>
                break;
            }

<span class="fc" id="L933">            break;</span>

          case 5:
<span class="fc" id="L936">            return 0;</span>
        }
      }
<span class="nc" id="L939">    }</span>

<span class="nc" id="L941">    scanner.close();</span>
<span class="nc" id="L942">    return 0;</span>
  }


  /**
   * Returns the login name of the current user.
   *
   * @return The login name of the current user.
   */
  public static String getLoginName() {
<span class="fc" id="L952">    return LoginName;</span>
  }


  /**
   * Sets the login name of the current user.
   *
   * @param loginName The login name to be set.
   */
  public static void setLoginName(String loginName) {
<span class="fc" id="L962">    LoginName = loginName;</span>
<span class="fc" id="L963">  }</span>


  /**
   * Returns the wallet balance of the current user.
   *
   * @return The wallet balance of the current user.
   */
  public static int getWallet() {
<span class="fc" id="L972">    return LoginWallet;</span>
  }


  /**
   * Sets the wallet balance of the current user.
   *
   * @param loginWallet The wallet balance to be set.
   */
  public static void setWallet(int loginWallet) {
<span class="fc" id="L982">    LoginWallet = loginWallet;</span>
<span class="fc" id="L983">  }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>